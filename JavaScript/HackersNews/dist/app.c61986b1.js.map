{"version":3,"sources":["app.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,IAAM,QAAQ,GAAG,sCAAsC;AACvD,IAAM,WAAW,GAAG,wCAAwC;AAC5D,IAAM,KAAK,GAAU;EACnB,WAAW,EAAE,CAAC;EACd,KAAK,EAAE;CACR;AAED,IAAA,GAAA,GAAA,aAAA,YAAA;EAIE,SAAA,GAAA,CAAY,GAAW,EAAA;IACrB,IAAI,CAAC,IAAI,GAAG,IAAI,cAAc,CAAA,CAAE;IAChC,IAAI,CAAC,GAAG,GAAG,GAAG;EAChB;EAEA,GAAA,CAAA,SAAA,CAAA,UAAU,GAAV,YAAA;IACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC;IACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAA,CAAE;IAEhB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;EACvC,CAAC;EACH,OAAA,GAAC;AAAD,CAfA,CAAA,CAAA;AAiBA,IAAA,WAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA0B,SAAA,CAAA,WAAA,EAAA,MAAA,CAAA;EAA1B,SAAA,WAAA,CAAA,EAAA;;EAIA;EAHE,WAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;IACE,OAAO,IAAI,CAAC,UAAU,CAAA,CAAc;EACtC,CAAC;EACH,OAAA,WAAC;AAAD,CAJA,CAA0B,GAAG,CAAA;AAM7B,IAAA,aAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA4B,SAAA,CAAA,aAAA,EAAA,MAAA,CAAA;EAA5B,SAAA,aAAA,CAAA,EAAA;;EAIA;EAHE,aAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;IACE,OAAO,IAAI,CAAC,UAAU,CAAA,CAAc;EACtC,CAAC;EACH,OAAA,aAAC;AAAD,CAJA,CAA4B,GAAG,CAAA;AAM/B,IAAA,IAAA,GAAA,aAAA,YAAA;EAME,SAAA,IAAA,CAAY,WAAmB,EAAE,QAAgB,EAAA;IAC/C,IAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC;IAE7D,IAAI,CAAC,gBAAgB,EAAE;MACrB,MAAM,6BAA6B;IACrC;IAEA,IAAI,CAAC,SAAS,GAAG,gBAAgB;IACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ;IACxB,IAAI,CAAC,cAAc,GAAG,QAAQ;IAC9B,IAAI,CAAC,QAAQ,GAAG,EAAE;EACpB;EAEU,IAAA,CAAA,SAAA,CAAA,UAAU,GAApB,YAAA;IACE,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc;IAC9C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ;EACrC,CAAC;EAES,IAAA,CAAA,SAAA,CAAA,OAAO,GAAjB,UAAkB,UAAkB,EAAA;IAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC;EAChC,CAAC;EAES,IAAA,CAAA,SAAA,CAAA,OAAO,GAAjB,YAAA;IACE,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;IACvC,IAAI,CAAC,aAAa,CAAA,CAAE;IACpB,OAAO,QAAQ;EACjB,CAAC;EAES,IAAA,CAAA,SAAA,CAAA,eAAe,GAAzB,UAA0B,GAAW,EAAE,KAAa,EAAA;IAClD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAA,CAAA,MAAA,CAAO,GAAG,EAAA,MAAA,CAAM,EAAE,KAAK,CAAC;EAC5E,CAAC;EAEO,IAAA,CAAA,SAAA,CAAA,aAAa,GAArB,YAAA;IACE,IAAI,CAAC,QAAQ,GAAG,EAAE;EACpB,CAAC;EAGH,OAAA,IAAC;AAAD,CA3CA,CAAA,CAAA;AA6CA,IAAA,MAAA,GAAA,aAAA,YAAA;EAIE,SAAA,MAAA,CAAA,EAAA;IACE,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAE5D,IAAI,CAAC,UAAU,GAAG,EAAE;IACpB,IAAI,CAAC,YAAY,GAAG,IAAI;EAC1B;EAEA,MAAA,CAAA,SAAA,CAAA,cAAc,GAAd,UAAe,IAAU,EAAA;IACvB,IAAI,CAAC,YAAY,GAAG;MAAE,IAAI,EAAE,EAAE;MAAE,IAAI,EAAA;IAAA,CAAE;EACxC,CAAC;EAED,MAAA,CAAA,SAAA,CAAA,YAAY,GAAZ,UAAa,IAAY,EAAE,IAAU,EAAA;IACnC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;MAAE,IAAI,EAAA,IAAA;MAAE,IAAI,EAAA;IAAA,CAAE,CAAC;EACtC,CAAC;EAED,MAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;;IACE,IAAM,SAAS,GAAG,QAAQ,CAAC,IAAI;IAE/B,IAAI,SAAS,KAAK,EAAE,IAAI,IAAI,CAAC,YAAY,EAAE;MACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAA,CAAE;IACjC;;MAEA,KAAwB,IAAA,EAAA,GAAA,QAAA,CAAA,IAAI,CAAC,UAAU,CAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,CAAA,IAAA,CAAA,CAAA,EAAE;QAApC,IAAM,SAAS,GAAA,EAAA,CAAA,KAAA;QAClB,IAAI,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;UAC1C,SAAS,CAAC,IAAI,CAAC,MAAM,CAAA,CAAE;UACvB;QACF;MACF;;;;;;;;;;;;EACF,CAAC;EACH,OAAA,MAAC;AAAD,CAjCA,CAAA,CAAA;AAkCA,IAAA,YAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA2B,SAAA,CAAA,YAAA,EAAA,MAAA,CAAA;EAIzB,SAAA,YAAA,CAAY,WAAmB,EAAA;IAA/B,IAAA,KAAA,GAAA,IAAA;IACE,IAAI,QAAQ,GAAW,o1BAuBtB;IAED,KAAA,GAAA,MAAK,CAAA,IAAA,CAAA,IAAA,EAAC,WAAW,EAAE,QAAQ,CAAC,IAAA,IAAA;IAE5B,KAAI,CAAC,GAAG,GAAG,IAAI,WAAW,CAAC,QAAQ,CAAC;IACpC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK;IAExB,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;MAC3B,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,KAAI,CAAC,GAAG,CAAC,OAAO,CAAA,CAAE;MAC7C,KAAI,CAAC,SAAS,CAAA,CAAE;IAClB;;EACF;EAEA,YAAA,CAAA,SAAA,CAAA,MAAM,GAAN,YAAA;IACE,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IAExD,KACE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,IAAI,EAAE,EACpC,CAAC,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,EAC1B,CAAC,EAAE,EACH;MACM,IAAA,EAAA,GACJ,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QADP,EAAE,GAAA,EAAA,CAAA,EAAA;QAAE,KAAK,GAAA,EAAA,CAAA,KAAA;QAAE,cAAc,GAAA,EAAA,CAAA,cAAA;QAAE,IAAI,GAAA,EAAA,CAAA,IAAA;QAAE,MAAM,GAAA,EAAA,CAAA,MAAA;QAAE,QAAQ,GAAA,EAAA,CAAA,QAAA;QAAE,IAAI,GAAA,EAAA,CAAA,IAChD;MACf,IAAI,CAAC,OAAO,CAAC,6BAAA,CAAA,MAAA,CAET,IAAI,GAAG,YAAY,GAAG,UAAU,EAAA,yLAAA,CAAA,CAAA,MAAA,CAIV,EAAE,EAAA,KAAA,CAAA,CAAA,MAAA,CAAK,KAAK,EAAA,8JAAA,CAAA,CAAA,MAAA,CAGmC,cAAc,EAAA,8MAAA,CAAA,CAAA,MAAA,CAKxC,IAAI,EAAA,gEAAA,CAAA,CAAA,MAAA,CACH,MAAM,EAAA,gEAAA,CAAA,CAAA,MAAA,CACN,QAAQ,EAAA,4EAAA,CAIvD,CAAC;IACJ;IAEA,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAA,CAAE,CAAC;IACjD,IAAI,CAAC,eAAe,CAClB,WAAW,EACX,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,GAAG,KAAK,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAC1D;IACD,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;IAEhE,IAAI,CAAC,UAAU,CAAA,CAAE;EACnB,CAAC;EAEO,YAAA,CAAA,SAAA,CAAA,SAAS,GAAjB,YAAA;IACE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MAC1C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK;IAC5B;EACF,CAAC;EACH,OAAA,YAAC;AAAD,CAzFA,CAA2B,IAAI,CAAA;AA2F/B,IAAA,cAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA6B,SAAA,CAAA,cAAA,EAAA,MAAA,CAAA;EAC3B,SAAA,cAAA,CAAY,WAAmB,EAAA;IAC7B,IAAI,QAAQ,GAAG,+3BA2Bd;IAED,OAAA,MAAK,CAAA,IAAA,CAAA,IAAA,EAAC,WAAW,EAAE,QAAQ,CAAC,IAAA,IAAA;EAC9B;EAEA,cAAA,CAAA,SAAA,CAAA,MAAM,GAAN,YAAA;IACE,IAAM,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAClC,IAAM,GAAG,GAAG,IAAI,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAC7D,IAAM,UAAU,GAAe,GAAG,CAAC,OAAO,CAAA,CAAE;IAE5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MAC3C,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,CAAC,EAAE;QACpC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI;QAC1B;MACF;IACF;IAEA,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IACvE,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IAC9D,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC,KAAK,CAAC;IAC/C,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,UAAU,CAAC,OAAO,CAAC;IAEnD,IAAI,CAAC,UAAU,CAAA,CAAE;EACnB,CAAC;EAED,cAAA,CAAA,SAAA,CAAA,WAAW,GAAX,UAAY,QAAuB,EAAA;IACjC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;MACxC,IAAM,OAAO,GAAgB,QAAQ,CAAC,CAAC,CAAC;MAExC,IAAI,CAAC,OAAO,CAAC,uCAAA,CAAA,MAAA,CACiB,OAAO,CAAC,KAAK,GAAG,EAAE,EAAA,wIAAA,CAAA,CAAA,MAAA,CAGhC,OAAO,CAAC,IAAI,EAAA,YAAA,CAAA,CAAA,MAAA,CAAa,OAAO,CAAC,QAAQ,EAAA,2DAAA,CAAA,CAAA,MAAA,CAE1B,OAAO,CAAC,OAAO,EAAA,oCAAA,CAE7C,CAAC;MAEF,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;MAClD;IACF;IAEA,OAAO,IAAI,CAAC,OAAO,CAAA,CAAE;EACvB,CAAC;EACH,OAAA,cAAC;AAAD,CA3EA,CAA6B,IAAI,CAAA;AA6EjC,IAAM,MAAM,GAAW,IAAI,MAAM,CAAA,CAAE;AACnC,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC,MAAM,CAAC;AAC7C,IAAM,cAAc,GAAG,IAAI,cAAc,CAAC,MAAM,CAAC;AAEjD,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC;AAEnC,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC;AAC3C,MAAM,CAAC,YAAY,CAAC,QAAQ,EAAE,cAAc,CAAC;AAE7C,MAAM,CAAC,KAAK,CAAA,CAAE","file":"app.c61986b1.js","sourceRoot":"..","sourcesContent":["interface Store {\n  feeds: NewsFeed[];\n  currentPage: number;\n}\n\ninterface News {\n  readonly id: number;\n  readonly time_ago: string;\n  readonly title: string;\n  readonly url: string;\n  readonly user: string;\n  readonly content: string;\n}\n\ninterface NewsFeed extends News {\n  readonly points: number;\n  readonly comments_count: number;\n  read?: boolean;\n}\n\ninterface NewsDetail extends News {\n  readonly comments: NewsComment[];\n}\n\ninterface NewsComment extends News {\n  readonly comments: NewsComment[];\n  readonly level: number;\n}\n\ninterface RouteInfo {\n  path: string;\n  page: View;\n}\n\nconst NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nconst CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\nconst store: Store = {\n  currentPage: 1,\n  feeds: [],\n};\n\nclass Api {\n  ajax: XMLHttpRequest;\n  url: string;\n\n  constructor(url: string) {\n    this.ajax = new XMLHttpRequest();\n    this.url = url;\n  }\n\n  getRequest<AjaxResponse>(): AjaxResponse {\n    this.ajax.open(\"GET\", this.url, false);\n    this.ajax.send();\n\n    return JSON.parse(this.ajax.response);\n  }\n}\n\nclass NewsFeedApi extends Api {\n  getData(): NewsFeed[] {\n    return this.getRequest<NewsFeed[]>();\n  }\n}\n\nclass NewsDetailApi extends Api {\n  getData(): NewsDetail {\n    return this.getRequest<NewsDetail>();\n  }\n}\n\nabstract class View {\n  private template: string;\n  private renderTemplate: string;\n  private container: HTMLElement;\n  private htmlList: string[];\n\n  constructor(containerId: string, template: string) {\n    const containerElement = document.getElementById(containerId);\n\n    if (!containerElement) {\n      throw \"최상위 컨테이너가 없어 UI를 진행하지 못합니다.\";\n    }\n\n    this.container = containerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template;\n  }\n\n  protected addHtml(htmlString: string): void {\n    this.htmlList.push(htmlString);\n  }\n\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join(\"\");\n    this.clearHtmlList();\n    return snapshot;\n  }\n\n  protected setTemplateData(key: string, value: string): void {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = [];\n  }\n\n  abstract render(): void;\n}\n\nclass Router {\n  routeTable: RouteInfo[];\n  defaultRoute: RouteInfo | null;\n\n  constructor() {\n    window.addEventListener(\"hashchange\", this.route.bind(this));\n\n    this.routeTable = [];\n    this.defaultRoute = null;\n  }\n\n  setDefaultPage(page: View): void {\n    this.defaultRoute = { path: \"\", page };\n  }\n\n  addRoutePath(path: string, page: View): void {\n    this.routeTable.push({ path, page });\n  }\n\n  route() {\n    const routePath = location.hash;\n\n    if (routePath === \"\" && this.defaultRoute) {\n      this.defaultRoute.page.render();\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if (routePath.indexOf(routeInfo.path) >= 0) {\n        routeInfo.page.render();\n        break;\n      }\n    }\n  }\n}\nclass NewsFeedView extends View {\n  private api: NewsFeedApi;\n  private feeds: NewsFeed[];\n\n  constructor(containerId: string) {\n    let template: string = `\n      <div class=\"bg-gray-600 min-h-screen\">\n        <div class=\"bg-white text-xl\">\n          <div class=\"mx-auto px-4\">\n            <div class=\"flex justify-between items-center py-6\">\n              <div class=\"flex justify-start\">\n                <h1 class=\"font-extrabold\">Hacker News</h1>\n              </div>\n              <div class=\"items-center justify-end\">\n                <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n                  Previous\n                </a>\n                <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n                  Next\n                </a>\n              </div>\n            </div> \n          </div>\n        </div>\n        <div class=\"p-4 text-2xl text-gray-700\">\n          {{__news_feed__}}        \n        </div>\n      </div>\n    `;\n\n    super(containerId, template);\n\n    this.api = new NewsFeedApi(NEWS_URL);\n    this.feeds = store.feeds;\n\n    if (this.feeds.length === 0) {\n      this.feeds = store.feeds = this.api.getData();\n      this.makeFeeds();\n    }\n  }\n\n  render(): void {\n    store.currentPage = Number(location.hash.substr(7) || 1);\n\n    for (\n      let i = (store.currentPage - 1) * 10;\n      i < store.currentPage * 10;\n      i++\n    ) {\n      const { id, title, comments_count, user, points, time_ago, read } =\n        this.feeds[i];\n      this.addHtml(`\n        <div class=\"p-6 ${\n          read ? \"bg-red-500\" : \"bg-white\"\n        } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n          <div class=\"flex\">\n            <div class=\"flex-auto\">\n              <a href=\"#/show/${id}\">${title}</a>  \n            </div>\n            <div class=\"text-center text-sm\">\n              <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\n            </div>\n          </div>\n          <div class=\"flex mt-3\">\n            <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n              <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n              <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n              <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n            </div>  \n          </div>\n        </div>    \n      `);\n    }\n\n    this.setTemplateData(\"news_feed\", this.getHtml());\n    this.setTemplateData(\n      \"prev_page\",\n      String(store.currentPage > 1 ? store.currentPage - 1 : 1)\n    );\n    this.setTemplateData(\"next_page\", String(store.currentPage + 1));\n\n    this.updateView();\n  }\n\n  private makeFeeds(): void {\n    for (let i = 0; i < this.feeds.length; i++) {\n      this.feeds[i].read = false;\n    }\n  }\n}\n\nclass NewsDetailView extends View {\n  constructor(containerId: string) {\n    let template = `\n      <div class=\"bg-gray-600 min-h-screen pb-8\">\n        <div class=\"bg-white text-xl\">\n          <div class=\"mx-auto px-4\">\n            <div class=\"flex justify-between items-center py-6\">\n              <div class=\"flex justify-start\">\n                <h1 class=\"font-extrabold\">Hacker News</h1>\n              </div>\n              <div class=\"items-center justify-end\">\n                <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n                  <i class=\"fa fa-times\"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n  \n        <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n          <h2>{{__title__}}</h2>\n          <div class=\"text-gray-400 h-20\">\n            {{__content__}}\n          </div>\n  \n          {{__comments__}}\n  \n        </div>\n      </div>\n    `;\n\n    super(containerId, template);\n  }\n\n  render() {\n    const id = location.hash.substr(7);\n    const api = new NewsDetailApi(CONTENT_URL.replace(\"@id\", id));\n    const newsDetail: NewsDetail = api.getData();\n\n    for (let i = 0; i < store.feeds.length; i++) {\n      if (store.feeds[i].id === Number(id)) {\n        store.feeds[i].read = true;\n        break;\n      }\n    }\n\n    this.setTemplateData(\"comments\", this.makeComment(newsDetail.comments));\n    this.setTemplateData(\"currentPage\", String(store.currentPage));\n    this.setTemplateData(\"title\", newsDetail.title);\n    this.setTemplateData(\"content\", newsDetail.content);\n\n    this.updateView();\n  }\n\n  makeComment(comments: NewsComment[]): string {\n    for (let i = 0; i < comments.length; i++) {\n      const comment: NewsComment = comments[i];\n\n      this.addHtml(`\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n          <div class=\"text-gray-400\">\n            <i class=\"fa fa-sort-up mr-2\"></i>\n            <strong>${comment.user}</strong> ${comment.time_ago}\n          </div>\n          <p class=\"text-gray-700\">${comment.content}</p>\n        </div>      \n      `);\n\n      if (comment.comments.length > 0) {\n        this.addHtml(this.makeComment(comment.comments));\n      }\n    }\n\n    return this.getHtml();\n  }\n}\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView(\"root\");\nconst newsDetailView = new NewsDetailView(\"root\");\n\nrouter.setDefaultPage(newsFeedView);\n\nrouter.addRoutePath(\"/page/\", newsFeedView);\nrouter.addRoutePath(\"/show/\", newsDetailView);\n\nrouter.route();\n"]}